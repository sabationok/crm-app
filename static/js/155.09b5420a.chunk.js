"use strict";(self.webpackChunkcrm_app=self.webpackChunkcrm_app||[]).push([[155],{6155:function(t,e,n){n.d(e,{Z:function(){return F}});var i=n(1413),c=n(885),a=n(2791),r=n(3579),o=n(9107);var s=n(5206),l={filterContainer:"BlockSearch_filterContainer__Nu+uf",filterForm:"BlockSearch_filterForm__iPIpw",customFounder:"BlockSearch_customFounder__WBHkw",inputFounder:"BlockSearch_inputFounder__o55Bv",customSelect:"BlockSearch_customSelect__rAeb1",isOpen:"BlockSearch_isOpen__9lhaC",selectList:"BlockSearch_selectList__j6QIs",inputParam:"BlockSearch_inputParam__anOuU",selectItem:"BlockSearch_selectItem__5pGfS",button:"BlockSearch_button__VOCQW",notification:"BlockSearch_notification__tXPeC"},u=n(184),d=function(t){var e=(0,r.rL)().tableTitles,n=void 0===e?[]:e,d=(0,a.useState)(""),f=(0,c.Z)(d,2),m=f[0],h=f[1],p=(0,a.useState)({name:""}),v=(0,c.Z)(p,2),_=v[0],x=v[1],k=(0,a.useState)(!1),j=(0,c.Z)(k,2),Z=j[0],y=j[1],I=(0,a.useState)([]),B=(0,c.Z)(I,2),S=B[0],w=B[1],g=[l.customSelect,Z&&l.isOpen].join(" ");function C(){y(!Z)}return(0,a.useEffect)((function(){0!==n.length&&w(function(t){var e=t.searchParam,n=void 0===e?"":e,i=t.searchQuery,c=void 0===i?null:i,a=t.data;return(void 0===a?[]:a).filter((function(t){return"number"===typeof t[n]?!(c&&!t[n].toString().toLowerCase().includes(c.toLowerCase())):"string"!==typeof t[n]||!(c&&!t[n].toLowerCase().includes(c.toLowerCase()))}))}({searchParam:"name",searchQuery:_.name,data:n.filter((function(t){return(null===t||void 0===t?void 0:t.filter)&&(null===t||void 0===t?void 0:t.visible)}))}))}),[_,n]),(0,a.useEffect)((function(){""===!m&&console.log(m)}),[m]),(0,a.useEffect)((function(){""===!_.name&&console.log(_.name)}),[_]),(0,u.jsx)("div",{className:l.filterContainer,children:(0,u.jsxs)("form",{className:l.filterForm,onSubmit:function(t){!function(t){t.preventDefault(),m&&_.name?s.Am.info("\u0412\u0438 \u0448\u0443\u043a\u0430\u043b\u0438: '".concat(m,"' \u0441\u0435\u0440\u0435\u0434 '").concat(_.name,"'")):s.Am.error("\u041d\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u0443\u0441\u0456\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0456\u0432 \u043f\u043e\u0448\u0443\u043a\u0443")}(t)},children:[(0,u.jsxs)("div",{className:g,onClick:C,children:[(0,u.jsx)("input",{className:l.inputParam,type:"text",placeholder:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440",value:_.name,onChange:function(t){var e=t.target;x((0,i.Z)((0,i.Z)({},_),{},{name:e.value}))}}),(0,u.jsx)("ul",{className:l.selectList,children:S.map((function(t){return(0,u.jsx)("li",{className:l.selectItem,"data-title":t.dataTitle,onClick:function(e){!function(t){t.evt;var e=t.item;x(e),C()}({evt:e,item:t})},children:t.name},t.id)}))})]}),(0,u.jsx)("div",{className:l.customFounder,children:(0,u.jsx)("input",{className:l.inputFounder,type:"text",name:"searchQuery",value:m,placeholder:"\u041f\u043e\u0448\u0443\u043a",onChange:function(t){!function(t){var e=t.target;h(e.value)}(t)}})}),(0,u.jsx)("button",{className:l.button,type:"submit",children:(0,u.jsx)(o.Z,{iconId:"search",size:"24px"})})]})})},f=n(5614),m="BlockHeaderSearch_header__fq2h1",h="BlockHeaderSearch_headerWithSearch__Vnm1m",p="BlockHeaderSearch_title__yFzIH",v=function(){var t=(0,r.rL)(),e=t.title,n=void 0===e?"Title":e,i=t.iconId,c=void 0===i?"info":i,a=t.isSearch,s=a?h:m;return(0,u.jsxs)("div",{className:s,children:[(0,u.jsx)(o.Z,{iconId:c,size:"24px"}),a&&(0,u.jsx)(d,{}),n&&(0,u.jsx)("span",{className:p,children:(0,u.jsx)("span",{title:n,children:n})}),(0,u.jsx)(f.default,{})]})},_="BlockHeader_header__qK20U",x="BlockHeader_titleInner__qnGM0",k="BlockHeader_title__FuYVP",j=(0,a.lazy)((function(){return Promise.resolve().then(n.bind(n,5614))})),Z=function(){var t=(0,r.rL)(),e=t.title,n=void 0===e?"Title":e,i=t.iconId,c=void 0===i?"info":i;return(0,u.jsxs)("div",{className:_,children:[(0,u.jsx)(o.Z,{iconId:c,size:"24px"}),(0,u.jsx)("span",{className:k,children:(0,u.jsx)("span",{className:x,title:n,children:n})}),(0,u.jsx)(j,{})]})},y=n(9434),I=n(6351),B="Block_block__l4rYQ",S="Block_blockDark__wuUze",w="Block_overflow__I1+3b",g="Block_content__VVaX5",C="Block_footer__0j8tQ",N="Block_inWork__m6rkC",F=function(t){var e=t.children,n=t.title,o=void 0===n?"Title":n,s=t.iconId,l=void 0===s?"info":s,d=t.footer,f=void 0===d||d,m=t.header,h=void 0===m||m,p=t.style,_=void 0===p?{}:p,x=t.className,k=void 0===x?"":x,j=t.filter,F=void 0!==j&&j,b=[(0,y.v9)(I.hO).isDarkTheme?S:B,k].join(" "),L=(0,a.useState)(!1),A=(0,c.Z)(L,2),T=A[0],P=A[1],z=(0,a.useState)(!0),E=(0,c.Z)(z,2),O=E[0],W=E[1];var H={isSearch:T,isFormDisabled:O},Q={handleToggleBlockSearch:function(){P(!T)},handleToggleEditForm:function(){W(!O)}};return console.log("block '".concat(o,"'inicialize")),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(r.ZP,(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},t),Q),H),{},{children:(0,u.jsxs)("div",{className:b,style:_,children:[h&&(0,u.jsxs)(u.Fragment,{children:[F&&(0,u.jsx)(v,{}),!F&&(0,u.jsx)(Z,{})]}),(0,u.jsx)("div",{className:g,id:l,children:(0,u.jsxs)("div",{className:w,children:[e,!e&&(0,u.jsx)("div",{className:N,children:(0,u.jsx)("span",{children:"In work ..."})})]})}),f&&(0,u.jsx)("div",{className:C})]})}))})}},5614:function(t,e,n){n.r(e),n.d(e,{default:function(){return z}});var i=n(885),c=n(2791),a=n(8586),r=n(4164),o=function(t){var e=(0,c.useState)(!1),n=(0,i.Z)(e,2),a=n[0],o=n[1],s=document.getElementById(t.id);if((0,c.useEffect)((function(){t.id?o(!0):o(!1)}),[t.id]),a)return r.createPortal(t.children,s)};o.propTypes={};var s=o,l=n(1413),u="Action_actionActive__8Wn-y",d="Action_actionNotActive__0nksk",f="Action_listItem__JziyT",m="Action_actionTitle__YTAVc",h=n(184),p=function(t){t.name;var e=t.status,n=void 0!==e&&e,i=t.iconId,c=void 0===i?"close":i,r=t.title,o=void 0===r?"title":r,s=t.onClick,l=n?u:d;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("li",{className:f,children:[(0,h.jsx)(a.Z,{iconId:c,size:"100%",iconSize:"28px",className:l,onClick:s,disabled:!n}),(0,h.jsx)("span",{className:m,children:o})]})})},v=n(5206),_=n(3579),x=function(t){var e=t.action,n=(0,_.rL)().blockTitle;return(0,h.jsx)(p,(0,l.Z)((0,l.Z)({},e),{},{onClick:function(){navigator.clipboard.writeText(n),v.Am.info('\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u043a\u043e\u043f\u0456\u044e "'.concat(n,'"'))}}))},k=n(5861),j=n(4687),Z=n.n(j),y=function(t){var e=t.action,n=(0,_.rL)().title,i="".concat(window.location,"/").concat(n);function c(){return(c=(0,k.Z)(Z().mark((function t(){var e;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c \u043d\u0430\u0437\u0432\u043e\u044e \u0431\u043b\u043e\u043a\u0443 ".concat(n),text:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c \u043d\u0430\u0437\u0432\u043e\u044e \u0431\u043b\u043e\u043a\u0443 ".concat(n),url:i};try{navigator.share(e),v.Am.success("\u041d\u0430\u0437\u0432\u0430 \u0431\u043b\u043e\u043a\u0443 \u0434\u043b\u044f \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u043d\u043d\u044f ".concat(n))}catch(c){v.Am.error("Error: ".concat(c))}case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,h.jsx)(p,(0,l.Z)((0,l.Z)({},e),{},{onClick:function(){return c.apply(this,arguments)}}))},I=function(t){var e=t.action;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(p,(0,l.Z)({},e))})},B=function(t){var e=t.action;return(0,h.jsx)(p,(0,l.Z)({},e))},S=function(t){var e=t.action;return(0,h.jsx)(p,(0,l.Z)({},e))},w=function(t){var e=t.action;return(0,h.jsx)(p,(0,l.Z)({},e))},g=function(t){var e=t.action,n=(0,_.rL)(),i=n.title,c=n.appNotify,a="".concat(window.location,"/").concat(i);return(0,h.jsx)(p,(0,l.Z)((0,l.Z)({},e),{},{onClick:function(){navigator.clipboard.writeText(a),v.Am.info('\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0442\u043e\u0432\u0430\u0440 \u0441\u043a\u043e\u043f\u0456\u0439\u043e\u0432\u0430\u043d\u0435 "'.concat(i,'"')),c.info({title:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u0441\u043a\u043e\u043f\u0439\u043e\u0432\u0430\u043d\u0435",text:'"'.concat(a,'"')})}}))},C=function(t){var e=t.action,n=(0,_.rL)().handleToggleBlockSearch;return(0,h.jsx)(p,(0,l.Z)((0,l.Z)({},e),{},{onClick:n}))},N=function(t){var e=t.action,n=(0,_.rL)().handleToggleEditForm;return(0,h.jsx)(p,(0,l.Z)((0,l.Z)({},e),{},{onClick:n}))},F=function(t){var e=t.action;return(0,h.jsx)(p,(0,l.Z)({},e))},b=function(t){var e=t.action;return(0,h.jsx)(p,(0,l.Z)({},e))},L=function(t){var e=t.action;return(0,h.jsx)(p,(0,l.Z)({},e))},A="ActionsList_actionsList__6ChT6",T=function(t){var e=t.arr,n=void 0===e?[]:e,i={link:g,search:C,filter:w,copy:x,share:y,print:I,export:B,import:S,edit:N,delete:b,create:F,refresh:L},c=(0,h.jsx)(h.Fragment,{});return(0,h.jsx)("ul",{className:A,children:n.map((function(t){return t.name?(c=i[t.name],(0,h.jsx)(c,(0,l.Z)({action:t},t),t.name)):(0,h.jsx)(p,(0,l.Z)({},t),t.name)}))})},P={actionsBackdrop:"BlockActions_actionsBackdrop__QWF-u",actionsBackdropOpen:"BlockActions_actionsBackdropOpen__PvLbA",actionsContainer:"BlockActions_actionsContainer__Pbrz5"},z=function(){var t=(0,c.useState)(!1),e=(0,i.Z)(t,2),n=e[0],r=e[1],o=(0,_.rL)(),l=(0,c.useMemo)((function(){switch(o.actions){case"primary":return o.actionsPrimary;case"withFilter":return o.actionsWithFilter;default:return[]}}),[o.actions,o.actionsPrimary,o.actionsWithFilter]);function u(t){r(!n)}return(0,c.useEffect)((function(){function t(e){if("Escape"===e.code)return r(!1),void window.removeEventListener("keydown",t)}n?n&&window.addEventListener("keydown",t):window.removeEventListener("keydown",t)}),[n]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a.Z,{iconId:n?"close":"actions-h",size:"100%",iconSize:"24px",onClick:u}),(0,h.jsx)(s,{id:o.iconId,children:(0,h.jsx)("div",{className:n?P.actionsBackdropOpen:P.actionsBackdrop,onClick:u,children:n&&(0,h.jsxs)("div",{className:P.actionsContainer,children:[(0,h.jsx)("span",{className:P.actionsTitle,children:'\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0434\u0456\u0457 \u0431\u043b\u043e\u043a\u0443 "'.concat(o.title,'"')}),l.length>0&&(0,h.jsx)(T,{arr:l})]})})})]})}},3579:function(t,e,n){n.d(e,{ZP:function(){return f},rL:function(){return d}});var i=n(1413),c=n(2791),a={actionsPrimary:[{name:"link",title:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",iconId:"link",status:!0},{name:"copy",title:"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438",iconId:"copy",status:!1},{name:"share",title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",iconId:"share",status:!0},{name:"refresh",title:"\u041e\u043d\u043e\u0432\u0438\u0442\u0438",iconId:"refresh",status:!1},{name:"edit",title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",iconId:"edit",status:!0},{name:"delete",title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",iconId:"delete",status:!1},{name:"create",title:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438",iconId:"plus",status:!1},{name:"print",title:"\u0414\u0440\u0443\u043a",iconId:"print",status:!1},{name:"export",title:"\u0415\u043a\u0441\u043f\u043e\u0440\u0442",iconId:"upload",status:!1},{name:"import",title:"\u0406\u043c\u043f\u043e\u0440\u0442",iconId:"download",status:!1}],actionsWithFilter:[{name:"search",title:"\u041f\u043e\u0448\u0443\u043a",iconId:"search",status:!0},{name:"filter",title:"\u0424\u0456\u043b\u044c\u0442\u0440",iconId:"filter-off",status:!1},{name:"link",title:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",iconId:"link",status:!0},{name:"copy",title:"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438",iconId:"copy",status:!1},{name:"share",title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",iconId:"share",status:!0},{name:"refresh",title:"\u041e\u043d\u043e\u0432\u0438\u0442\u0438",iconId:"refresh",status:!1},{name:"edit",title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",iconId:"edit",status:!1},{name:"delete",title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",iconId:"delete",status:!1},{name:"create",title:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438",iconId:"plus",status:!1},{name:"print",title:"\u0414\u0440\u0443\u043a",iconId:"print",status:!1},{name:"export",title:"\u0415\u043a\u0441\u043f\u043e\u0440\u0442",iconId:"upload",status:!1},{name:"import",title:"\u0406\u043c\u043f\u043e\u0440\u0442",iconId:"download",status:!1}]},r=n(5984),o=n(9434),s=n(7591),l=n(184),u=(0,c.createContext)(),d=function(){return(0,c.useContext)(u)},f=function(t){var e=(0,o.I0)();function n(t){var n=t.title,i=t.type,c=t.text;e((0,s.c)({id:(0,r.x0)(5),type:i,title:n,text:c,createdAt:new Date}))}var c={success:function(t){n({title:t.title,text:t.text,type:"success"})},info:function(t){n({title:t.title,text:t.text,type:"info"})},error:function(t){n({title:t.title,text:t.text,type:"error"})},warning:function(t){n({title:t.title,text:t.text,type:"warning"})},primary:function(t){n({title:t.title,text:t.text,type:"primary"})}};return(0,l.jsx)(u.Provider,{value:(0,i.Z)((0,i.Z)((0,i.Z)({},t),a),{},{appNotify:c}),children:t.children})}},5984:function(t,e,n){n.d(e,{x0:function(){return i}});var i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=155.09b5420a.chunk.js.map