"use strict";(self.webpackChunkcrm_app=self.webpackChunkcrm_app||[]).push([[217],{8353:function(e,n,t){t.d(n,{Z:function(){return y}});var i=t(1413),o=t(2791),c=t(2747),s=t(885),l=t(9107);var r=t(5206),a={filterContainer:"BlockFounder_filterContainer__xpoxO",filterForm:"BlockFounder_filterForm__P13kq",customFounder:"BlockFounder_customFounder__D1y72",inputFounder:"BlockFounder_inputFounder__gbkmY",customSelect:"BlockFounder_customSelect__W-Ovy",isOpen:"BlockFounder_isOpen__5YHKD",selectList:"BlockFounder_selectList__37jNg",inputParam:"BlockFounder_inputParam__00Trb",selectItem:"BlockFounder_selectItem__0PXUx",button:"BlockFounder_button__kECXA",notification:"BlockFounder_notification__ZaOSI"},d=t(184),u=function(e){var n=(0,c.rL)().tableTitles,t=void 0===n?[]:n,u=(0,o.useState)(""),_=(0,s.Z)(u,2),m=_[0],f=_[1],v=(0,o.useState)({name:""}),x=(0,s.Z)(v,2),k=x[0],h=x[1],p=(0,o.useState)(!1),j=(0,s.Z)(p,2),B=j[0],I=j[1],N=(0,o.useState)([]),y=(0,s.Z)(N,2),F=y[0],b=y[1],g=[a.customSelect,B&&a.isOpen].join(" ");function C(){I(!B)}return(0,o.useEffect)((function(){0!==t.length&&b(function(e){var n=e.searchParam,t=void 0===n?"":n,i=e.searchQuery,o=void 0===i?null:i,c=e.data;return(void 0===c?[]:c).filter((function(e){return"number"===typeof e[t]?!(o&&!e[t].toString().toLowerCase().includes(o.toLowerCase())):"string"!==typeof e[t]||!(o&&!e[t].toLowerCase().includes(o.toLowerCase()))}))}({searchParam:"name",searchQuery:k.name,data:t.filter((function(e){return(null===e||void 0===e?void 0:e.filter)&&(null===e||void 0===e?void 0:e.visible)}))}))}),[k,t]),(0,o.useEffect)((function(){""===!m&&console.log(m)}),[m]),(0,o.useEffect)((function(){""===!k.name&&console.log(k.name)}),[k]),(0,d.jsx)("div",{className:a.filterContainer,children:(0,d.jsxs)("form",{className:a.filterForm,onSubmit:function(e){!function(e){e.preventDefault(),m&&k.name?r.Am.info("\u0412\u0438 \u0448\u0443\u043a\u0430\u043b\u0438: '".concat(m,"' \u0441\u0435\u0440\u0435\u0434 '").concat(k.name,"'")):r.Am.error("\u041d\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u0443\u0441\u0456\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0456\u0432 \u043f\u043e\u0448\u0443\u043a\u0443")}(e)},children:[(0,d.jsxs)("div",{className:g,onClick:C,children:[(0,d.jsx)("input",{className:a.inputParam,type:"text",placeholder:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440",value:k.name,onChange:function(e){var n=e.target;h((0,i.Z)((0,i.Z)({},k),{},{name:n.value}))}}),(0,d.jsx)("ul",{className:a.selectList,children:F.map((function(e){return(0,d.jsx)("li",{className:a.selectItem,"data-title":e.dataTitle,onClick:function(n){!function(e){e.evt;var n=e.item;h(n),C()}({evt:n,item:e})},children:e.name},e.id)}))})]}),(0,d.jsx)("div",{className:a.customFounder,children:(0,d.jsx)("input",{className:a.inputFounder,type:"text",name:"searchQuery",value:m,placeholder:"\u041f\u043e\u0448\u0443\u043a",onChange:function(e){!function(e){var n=e.target;f(n.value)}(e)}})}),(0,d.jsx)("button",{className:a.button,type:"submit",children:(0,d.jsx)(l.Z,{iconId:"search",size:"24px"})})]})})},_=t(8343),m="BlockHeaderFilter_header__2v66G",f="BlockHeaderFilter_title__7SWEQ",v=function(){var e=(0,c.rL)(),n=e.title,t=void 0===n?"Title":n,i=e.iconId,o=void 0===i?"info":i,s=e.blockFilterParams;return(0,d.jsxs)("div",{className:m,children:[(0,d.jsx)(l.Z,{iconId:o,size:"24px"}),(0,d.jsx)(u,{blockFilterParams:s}),t&&(0,d.jsx)("span",{className:f,children:(0,d.jsx)("span",{title:t,children:t})}),(0,d.jsx)(_.default,{})]})},x="BlockHeaderLink_header__3Xw1I",k="BlockHeaderLink_headerLink__ASjs9",h="BlockHeaderLink_subTitle__yD46E",p="BlockHeaderLink_titleInner__hx2Ou",j="BlockHeaderLink_title__Nndxb",B=(0,o.lazy)((function(){return Promise.resolve().then(t.bind(t,8343))})),I=function(){var e=(0,c.rL)(),n=e.title,t=void 0===n?"Title":n,i=e.subTitle,o=void 0===i?"link":i,s=e.iconId,r=void 0===s?"info":s;return(0,d.jsxs)("div",{className:x,children:[(0,d.jsx)(l.Z,{iconId:r,size:"24px"}),(0,d.jsx)("span",{className:j,children:(0,d.jsx)("span",{className:p,title:t,children:t})}),(0,d.jsx)("span",{className:k,children:(0,d.jsx)("span",{className:h,title:o,children:o})}),(0,d.jsx)(B,{})]})},N={block:"Block_block__l4rYQ",title:"Block_title__Fgg31",overflow:"Block_overflow__I1+3b",content:"Block_content__VVaX5",footer:"Block_footer__0j8tQ",inWork:"Block_inWork__m6rkC"},y=function(e){var n=e.children,t=e.title,s=void 0===t?"Block":t,l=e.iconId,r=void 0===l?"info":l,a=e.footer,u=void 0===a||a,_=e.header,m=void 0===_||_,f=e.style,x=void 0===f?{}:f,k=e.className,h=void 0===k?"":k,p=e.blockFilter,j=void 0!==p&&p,B=e.blockFilterParams;(0,o.useEffect)((function(){console.log("small block '".concat(s,"'render"))}),[s]);var y=[N.block,h].join(" ");return console.log("small block initialize"),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(c.ZP,(0,i.Z)((0,i.Z)({},e),{},{children:(0,d.jsxs)("div",{className:y,style:x,children:[m&&j&&(0,d.jsx)(v,{blockFilter:j,blockFilterParams:B,title:s,iconId:r}),m&&!j&&(0,d.jsx)(I,{title:s,iconId:r}),(0,d.jsx)("div",{className:N.content,id:r,children:(0,d.jsxs)("div",{className:N.overflow,children:[n,!n&&(0,d.jsx)("div",{className:N.inWork,children:(0,d.jsx)("span",{children:"In work ..."})})]})}),u&&(0,d.jsx)("div",{className:N.footer})]})}))})}},8343:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var i=t(885),o=t(2791),c=t(1413),s=t(2776),l={Button:"ButtonIcon_Button__7zIUY",iconSvg:"ButtonIcon_iconSvg__Ha7ix",ColoredBtn:"ButtonIcon_ColoredBtn__Raw3O",PrimaryBtn:"ButtonIcon_PrimaryBtn__7XJ7x",BorderBtn:"ButtonIcon_BorderBtn__BFvDB"},r=t(184),a=function(e){var n=e.children,t=e.type,i=void 0===t?"button":t,o=e.disabled,a=void 0!==o&&o,d=e.onClick,u=void 0===d?null:d,_=e.iconId,m=void 0===_?"":_,f=e.styles,v=void 0===f?{}:f,x=e.size,k=void 0===x?"":x,h=e.className,p=void 0===h?"":h,j=e.title,B=void 0===j?"":j,I=e.styleType,N=void 0===I?"PrimaryBtn":I,y=[l.Button,l[N],p].join(" "),F=(0,c.Z)({width:k,height:k},v);return(0,r.jsxs)("button",{type:i,className:y,disabled:a,style:F,title:B&&B,onClick:u&&u,children:[(0,r.jsx)("svg",{className:l.iconSvg,children:(0,r.jsx)("use",{href:"".concat(s.Z,"#icon-").concat(m.toLowerCase())})}),n]})},d=t(4164),u=function(e){var n=(0,o.useState)(!1),t=(0,i.Z)(n,2),c=t[0],s=t[1],l=document.getElementById(e.id);if((0,o.useEffect)((function(){e.id?s(!0):s(!1)}),[e.id]),c)return d.createPortal(e.children,l)};u.propTypes={};var _=u,m="BlockActions_actionsBackdrop__QWF-u",f="BlockActions_actionsBackdropOpen__PvLbA",v="BlockActions_actionsContainer__Pbrz5",x="BlockActions_actionsList__1G1ee",k="BlockActions_listItem__TfXVd",h="BlockActions_hover__OY83k",p={link:(0,r.jsx)(a,{iconId:"link",size:"100%",className:h}),search:(0,r.jsx)(a,{iconId:"search",size:"100%",className:h}),filter:(0,r.jsx)(a,{iconId:"filter-on",size:"100%",className:h}),copy:(0,r.jsx)(a,{iconId:"copy",size:"100%",className:h}),share:(0,r.jsx)(a,{iconId:"share",size:"100%",className:h}),refresh:(0,r.jsx)(a,{iconId:"refresh",size:"100%",className:h}),edit:(0,r.jsx)(a,{iconId:"edit",size:"100%",className:h}),delete:(0,r.jsx)(a,{iconId:"delete",size:"100%",className:h}),create:(0,r.jsx)(a,{iconId:"plus",size:"100%",className:h}),print:(0,r.jsx)(a,{iconId:"print-on",size:"100%",className:h}),upload:(0,r.jsx)(a,{iconId:"upload",size:"100%",className:h}),download:(0,r.jsx)(a,{iconId:"download",size:"100%",className:h})},j=t(2747),B=function(){var e=(0,o.useState)(!1),n=(0,i.Z)(e,2),t=n[0],c=n[1],s=(0,j.rL)(),l=(0,o.useMemo)((function(){switch(s.type){case"primary":return s.actionsBlockSmall;case"filtered":return s.actionsBlockLarge;default:return[]}}),[s.actionsBlockLarge,s.actionsBlockSmall,s.type]);function d(e){c(!t)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a,{iconId:t?"close":"actions-h",size:"100%",onClick:d}),(0,r.jsx)(_,{id:s.iconId,children:(0,r.jsx)("div",{className:t?f:m,onClick:d,children:(0,r.jsxs)("div",{className:v,children:[(0,r.jsx)("span",{children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e"}),t&&l.length>0&&(0,r.jsx)("ul",{className:x,children:l.map((function(e){return(0,r.jsx)("li",{className:k,children:p[e]},e)}))})]})})})]})}},2747:function(e,n,t){t.d(n,{ZP:function(){return d},rL:function(){return a}});var i=t(1413),o=t(2791),c=["search","filter","link","copy","share","refresh","edit","delete","create","print","upload","download"],s=["link","copy","share","refresh","edit","delete","create","print","upload","download"],l=t(184),r=(0,o.createContext)(),a=function(){return(0,o.useContext)(r)},d=function(e){return(0,l.jsx)(r.Provider,{value:(0,i.Z)((0,i.Z)({},e),{},{actionsBlockLarge:c,actionsBlockSmall:s}),children:e.children})}},8217:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var i=t(8353),o=t(7401),c="PageReturns_pageFlex__0zikA",s="PageReturns_sectionTopFlex__n62yw",l="PageReturns_sectionBottomFlex__HMSpF",r="PageReturns_sectionInnerLeft__SkCDV",a="PageReturns_sectionInnerRight__MIKyy",d=t(184),u=function(){return(0,d.jsx)(o.T,{children:(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)("section",{className:s,children:(0,d.jsx)(i.Z,{blockFilter:!0,title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u044c",iconId:"list",type:"filtered"})}),(0,d.jsxs)("section",{className:l,children:[(0,d.jsx)("div",{className:r,children:(0,d.jsx)(i.Z,{title:"\u0414\u0435\u0442\u0430\u043b\u0456",iconId:"return",type:"primary"})}),(0,d.jsx)("div",{className:a,children:(0,d.jsx)(i.Z,{title:"\u0406\u043d\u0441\u043f\u0435\u043a\u0446\u0456\u044f",iconId:"inspect",type:"primary"})})]})]})})}},7401:function(e,n,t){t.d(n,{T:function(){return r}});var i=t(1413),o=t(885),c=t(2791),s=t(184),l=(0,c.createContext)(),r=function(e){var n=(0,c.useState)(null),t=(0,o.Z)(n,2),r=t[0],a=t[1];return(0,s.jsx)(l.Provider,{value:(0,i.Z)({selectItemByClick:function(e){a(e),console.log("addet item by id (".concat(e,") to context"))},deleteItemByClick:function(e){a(null),console.log(" deleted ".concat(e))},selectedItemId:r},e),children:e.children})}}}]);
//# sourceMappingURL=217.eda79365.chunk.js.map