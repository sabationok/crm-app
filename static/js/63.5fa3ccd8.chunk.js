"use strict";(self.webpackChunkcrm_app=self.webpackChunkcrm_app||[]).push([[63],{6063:function(e,n,t){t.d(n,{Z:function(){return oe}});var o=t(1413),i=t(885),c=t(2791),a=t(9838),r=t(9107);var s=t(5985),l={filterContainer:"BlockSearch_filterContainer__Nu+uf",filterForm:"BlockSearch_filterForm__iPIpw",customFounder:"BlockSearch_customFounder__WBHkw",inputFounder:"BlockSearch_inputFounder__o55Bv",customSelect:"BlockSearch_customSelect__rAeb1",isOpen:"BlockSearch_isOpen__9lhaC",selectList:"BlockSearch_selectList__j6QIs",inputParam:"BlockSearch_inputParam__anOuU",selectItem:"BlockSearch_selectItem__5pGfS",button:"BlockSearch_button__VOCQW",notification:"BlockSearch_notification__tXPeC"},u=t(184),d=function(e){var n=(0,a.rL)().tableTitles,t=void 0===n?[]:n,d=(0,c.useState)(""),f=(0,i.Z)(d,2),m=f[0],h=f[1],_=(0,c.useState)({name:""}),v=(0,i.Z)(_,2),k=v[0],p=v[1],x=(0,c.useState)(!1),Z=(0,i.Z)(x,2),j=Z[0],B=Z[1],g=(0,c.useState)([]),C=(0,i.Z)(g,2),S=C[0],w=C[1],N=[l.customSelect,j&&l.isOpen].join(" ");function I(){B(!j)}return(0,c.useEffect)((function(){0!==t.length&&w(function(e){var n=e.searchParam,t=void 0===n?"":n,o=e.searchQuery,i=void 0===o?null:o,c=e.data;return(void 0===c?[]:c).filter((function(e){return"number"===typeof e[t]?!(i&&!e[t].toString().toLowerCase().includes(i.toLowerCase())):"string"!==typeof e[t]||!(i&&!e[t].toLowerCase().includes(i.toLowerCase()))}))}({searchParam:"name",searchQuery:k.name,data:t.filter((function(e){return(null===e||void 0===e?void 0:e.search)&&(null===e||void 0===e?void 0:e.visible)}))}))}),[k,t]),(0,c.useEffect)((function(){""===!m&&console.log(m)}),[m]),(0,c.useEffect)((function(){""===!k.name&&console.log(k.name)}),[k]),(0,u.jsx)("div",{className:l.filterContainer,children:(0,u.jsxs)("form",{className:l.filterForm,onSubmit:function(e){!function(e){e.preventDefault(),m&&k.name?s.Am.info("\u0412\u0438 \u0448\u0443\u043a\u0430\u043b\u0438: '".concat(m,"' \u0441\u0435\u0440\u0435\u0434 '").concat(k.name,"'")):s.Am.error("\u041d\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u0443\u0441\u0456\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0456\u0432 \u043f\u043e\u0448\u0443\u043a\u0443")}(e)},children:[(0,u.jsxs)("div",{className:N,onClick:I,children:[(0,u.jsx)("input",{className:l.inputParam,type:"text",placeholder:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440",value:k.name,onChange:function(e){var n=e.target;p((0,o.Z)((0,o.Z)({},k),{},{name:n.value}))}}),(0,u.jsx)("ul",{className:l.selectList,children:S.map((function(e){return(0,u.jsx)("li",{className:l.selectItem,"data-title":e.dataTitle,onClick:function(n){!function(e){e.evt;var n=e.item;p(n),I()}({evt:n,item:e})},children:e.name},e.id)}))})]}),(0,u.jsx)("div",{className:l.customFounder,children:(0,u.jsx)("input",{className:l.inputFounder,type:"text",name:"searchQuery",value:m,placeholder:"\u041f\u043e\u0448\u0443\u043a",onChange:function(e){!function(e){var n=e.target;h(n.value)}(e)}})}),(0,u.jsx)("button",{className:l.button,type:"submit",children:(0,u.jsx)(r.Z,{iconId:"search",size:"24px"})})]})})},f=t(8586),m=t(1747),h=function(e){var n=e.action,t=(0,a.rL)().blockTitle;return(0,u.jsx)(m.Z,(0,o.Z)((0,o.Z)({},n),{},{onClick:function(){navigator.clipboard.writeText(t),s.Am.info('\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u043a\u043e\u043f\u0456\u044e "'.concat(t,'"'))}}))},_=t(5861),v=t(4687),k=t.n(v),p=t(2960),x=function(e){var n=e.action,t=(0,p.d$)().appNotify;function i(){return(i=(0,_.Z)(k().mark((function e(){var n,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="".concat(window.location,"/"),console.log(n),o={title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",text:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",url:n};try{navigator.share(o),t.success(o.title,"".concat(o.text,", ").concat(o.url))}catch(i){console.log(i),s.Am.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ".concat(i)),t.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u043d\u043d\u0456","".concat(i))}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.jsx)(m.Z,(0,o.Z)((0,o.Z)({},n),{},{onClick:function(){return i.apply(this,arguments)}}))},Z=function(e){var n=e.action;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(m.Z,(0,o.Z)((0,o.Z)({},n),{},{onClick:function(e){}}))})},j=function(e){var n=e.action,t=(0,a.rL)().title,i=(0,p.d$)().appNotify;return(0,u.jsx)(m.Z,(0,o.Z)((0,o.Z)({},n),{},{onClick:function(){i.info("\u0412\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","\u0412\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0434\u0430\u043d\u0456 \u0456\u0437 \u0431\u043b\u043e\u043a\u0443 ".concat(t,"."))}}))},B=function(e){var n=e.action;return(0,u.jsx)(m.Z,(0,o.Z)({},n))},g=function(e){var n=e.action;return(0,u.jsx)(m.Z,(0,o.Z)({},n))},C=function(e){var n=e.action;function t(){return(t=(0,_.Z)(k().mark((function e(){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="".concat(window.location),navigator.clipboard.writeText(n),s.Am.info("\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u0441\u043a\u043e\u043f\u0456\u0439\u043e\u0432\u0430\u043d\u0435 \u0434\u043e \u0431\u0443\u0444\u0435\u0440\u0443 \u043e\u0431\u043c\u0456\u043d\u0443");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.jsx)(m.Z,(0,o.Z)((0,o.Z)({},n),{},{onClick:function(){return t.apply(this,arguments)}}))},S=function(e){var n=e.action,t=(0,a.rL)().handleToggleBlockSearch;return(0,u.jsx)(m.Z,(0,o.Z)((0,o.Z)({},n),{},{onClick:t}))},w=function(e){var n=e.action;return(0,u.jsx)(m.Z,(0,o.Z)({},n))},N=function(e){var n=e.action;return(0,u.jsx)(m.Z,(0,o.Z)({},n))},I=t(7689),y=function(e){var n=e.action,t=(0,a.rL)().deleteAction,i=(0,I.UO)().id;return t&&(0,u.jsx)(m.Z,(0,o.Z)((0,o.Z)({},n),{},{onClick:function(){t?t(i):console.log("error")}}))},b=function(e){var n=e.action;return(0,u.jsx)(m.Z,(0,o.Z)((0,o.Z)({},n),{},{onClick:function(e){window.location.reload()}}))},F=t(2829),L=function(e){var n=e.action,t=(0,a.rL)(),i=t.isFullPageMode,c=t.actionToglleFullPageMode;return(0,u.jsx)(F.t5,{children:c&&(0,u.jsx)(m.Z,(0,o.Z)((0,o.Z)({},n),{},{iconId:i?"zoomMinus":"zoomPlus",onClick:c}))})},P=function(e){var n=e.arr,t=void 0===n?[]:n,i={link:C,search:S,filter:g,copy:h,share:x,print:Z,export:j,import:B,edit:w,delete:y,create:N,refresh:b,zoom:L},c=(0,u.jsx)(u.Fragment,{});return(0,u.jsx)(u.Fragment,{children:t.map((function(e){return i[e.name]?(c=i[e.name],(0,u.jsx)(c,(0,o.Z)({action:e},e),e.name)):(0,u.jsx)(m.Z,(0,o.Z)({},e),e.name)}))})},A=t(6887),T={actionsBackdrop:"BlockActions_actionsBackdrop__QWF-u",actionsBackdropOpen:"BlockActions_actionsBackdropOpen__PvLbA",actionsContainer:"BlockActions_actionsContainer__Pbrz5",btn:"BlockActions_btn__eIOIX",actions:"BlockActions_actions__yot4Z",actionsOpen:"BlockActions_actionsOpen__Dhp0N",actionsBox:"BlockActions_actionsBox__Nf8jV"},z=function(){var e=(0,c.useState)(!1),n=(0,i.Z)(e,2),t=n[0],o=n[1],r=(0,a.rL)(),s=r.actions,l=r.ActionsComp;var d=(0,c.useMemo)((function(){switch(s){case"primary":return A.Z.actionsPrimary;case"withFilter":return A.Z.actionsWithFilter;default:return[]}}),[s]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f.Z,{iconId:t?"close":"actions-h",size:"30px",iconSize:"100%",className:T.btn,onClick:function(e){o(!t)}}),(0,u.jsx)("div",{className:t?T.actionsOpen:T.actions,children:(0,u.jsx)("div",{className:[T.actionsBox,"theme"].join(" "),children:(0,u.jsxs)(u.Fragment,{children:[d.length>0&&(0,u.jsx)(P,{arr:d}),l&&(0,u.jsx)(l,{})]})})})]})},M="BlockHeaderSearch_header__fq2h1",O="BlockHeaderSearch_headerWithSearch__Vnm1m",E="BlockHeaderSearch_Light__qD5Ew",H="BlockHeaderSearch_Dark__OoJa3",Q="BlockHeaderSearch_title__yFzIH",D="BlockHeaderSearch_btn__kvNb+",W=function(){var e=(0,a.rL)(),n=e.title,t=void 0===n?"Title":n,o=e.iconId,i=void 0===o?"info":o,c=e.isSearch,s=e.isDarkTheme,l=e.actions,m=e.headerStyles,h=e.headerClassName,_=e.isFullPageMode,v=e.actionToglleFullPageMode;return(0,u.jsxs)("div",{className:[c?O:M,s?H:E,h].join(" "),style:m,children:[(0,u.jsx)(r.Z,{iconId:i,size:"24px"}),c&&(0,u.jsx)(d,{}),t&&(0,u.jsx)("span",{className:Q,children:(0,u.jsx)("span",{title:t,children:t})}),(0,u.jsx)("div",{children:(0,u.jsx)(F.t5,{children:(0,u.jsx)(f.Z,{iconId:_?"zoomMinus":"zoomPlus",size:"30px",iconSize:_?"85%":"90%",onClick:v,className:D})})}),l&&(0,u.jsx)(z,{})]})},V="BlockModal_Backdrop__9xNj8",X="BlockModal_BackdropOpen__GX7Gb",G="BlockModal_Container__CkP5W",U="BlockModal_actionsList__-VfsE",q=function(e){e.title;var n=e.children,t=(0,a.rL)(),o=t.iconId,i=t.isModalOpen,r=t.handleToggleModal;return(0,c.useEffect)((function(){function e(n){if(console.log("first"),"Escape"===n.code)return r(),void window.removeEventListener("keydown",e)}if(i){if(!i)return function(){window.removeEventListener("keydown",e)};window.addEventListener("keydown",e)}else window.removeEventListener("keydown",e)}),[r,i]),(0,u.jsx)("div",{className:i?X:V,onClick:function(e){e.target===e.currentTarget&&r()},children:(0,u.jsx)("div",{className:G,children:(0,u.jsx)("div",{className:U,id:"".concat(o,"-modal"),children:n})})})},J=t(9434),R=t(6351),$="Block_block__l4rYQ",Y="Block_blockDark__wuUze",K="Block_footer__0j8tQ",ee="Block_overflow__I1+3b",ne="Block_content__VVaX5",te="Block_inWork__m6rkC",oe=function(e){var n=e.children,t=e.footerChildren,r=e.title,l=void 0===r?"Title":r,d=e.iconId,f=void 0===d?"info":d,m=e.footer,h=void 0===m||m,_=e.header,v=void 0===_||_,k=e.style,p=void 0===k?{}:k,x=e.headerStyles,Z=void 0===x?{}:x,j=e.className,B=void 0===j?"":j,g=(0,c.useState)(!1),C=(0,i.Z)(g,2),S=C[0],w=C[1],N=(0,c.useState)(),I=(0,i.Z)(N,2),y=I[0],b=I[1],F=(0,J.v9)(R.hO).isDarkTheme,L=(0,c.useState)(!1),P=(0,i.Z)(L,2),A=P[0],T=P[1],z=[F?Y:$,B].join(" "),M=A?{gridColumn:"1/11",gridRow:"1/11",zIndex:"10"}:{};var O={isSearch:S,isDarkTheme:F,isModalOpen:y,isFullPageMode:A},E={handleToggleBlockSearch:function(){w(!S)},handleToggleModal:function(){b(!y)},actionToglleFullPageMode:function(){T(!A),s.Am.info("\u0412\u0438\u0433\u043b\u044f\u0434 \u0431\u043b\u043e\u043a\u0443 \u0437\u043c\u0456\u043d\u0435\u043d\u043e ".concat(A))}};return console.log("block '".concat(l,"'inicialize")),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(a.ZP,(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},e),E),O),{},{children:(0,u.jsxs)("div",{className:z,style:(0,o.Z)((0,o.Z)({},p),M),children:[v&&(0,u.jsx)(W,{style:Z}),(0,u.jsxs)("div",{className:ne,id:f,children:[(0,u.jsxs)("div",{className:ee,children:[n,!n&&(0,u.jsx)("div",{className:te,children:(0,u.jsx)("span",{children:"In work ..."})})]}),(0,u.jsx)(q,{title:'\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0434\u0456\u0457 \u0431\u043b\u043e\u043a\u0443 "'.concat(l,'"')})]}),h&&(0,u.jsx)("div",{className:K,children:t})]})}))})}},1747:function(e,n,t){t.d(n,{Z:function(){return s}});t(2791);var o=t(8586),i="Action_actionBtn__1HEir",c="Action_listItem__BvVX7",a="Action_actionTitle__nQJRs",r=t(184),s=function(e){e.name;var n=e.status,t=void 0===n||n,s=e.iconId,l=void 0===s?"close":s,u=e.title,d=void 0===u?"title":u,f=e.onClick;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:c,children:[(0,r.jsx)(o.Z,{iconId:l,iconSize:"80%",className:i,onClick:f,disabled:!t,title:d}),(0,r.jsx)("span",{className:a,children:d})]})})}},9838:function(e,n,t){t.d(n,{rL:function(){return s}});var o=t(1413),i=t(2791),c=t(6887),a=t(184),r=(0,i.createContext)(),s=function(){return(0,i.useContext)(r)};n.ZP=function(e){return(0,a.jsx)(r.Provider,{value:(0,o.Z)((0,o.Z)({},e),c.Z),children:e.children})}},6887:function(e,n){var t={actionsPrimary:[{name:"link",title:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",iconId:"link",status:!0},{name:"share",title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",iconId:"share",status:!0},{name:"print",title:"\u0414\u0440\u0443\u043a",iconId:"print",status:!1},{name:"delete",title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",iconId:"delete",status:!0}],actionsWithFilter:[{name:"search",title:"\u041f\u043e\u0448\u0443\u043a",iconId:"search",status:!0},{name:"filter",title:"\u0424\u0456\u043b\u044c\u0442\u0440",iconId:"filter-off",status:!1},{name:"link",title:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",iconId:"link",status:!0},{name:"share",title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",iconId:"share",status:!0},{name:"refresh",title:"\u041e\u043d\u043e\u0432\u0438\u0442\u0438",iconId:"refresh",status:!0},{name:"print",title:"\u0414\u0440\u0443\u043a",iconId:"print",status:!1},{name:"export",title:"\u0415\u043a\u0441\u043f\u043e\u0440\u0442",iconId:"upload",status:!1},{name:"import",title:"\u0406\u043c\u043f\u043e\u0440\u0442",iconId:"download",status:!1}]};n.Z=t}}]);
//# sourceMappingURL=63.5fa3ccd8.chunk.js.map