{"version":3,"file":"static/js/800.2dd145eb.chunk.js","mappings":"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","sources":["webpack://crm-app/./src/components/Blocks/BlocksAdmin/BlockAuth/BlockAuth.module.scss?87f1","components/Blocks/BlocksAdmin/BlockAuth/BlockAuth.jsx","components/AppPages/PageAdmin.jsx","webpack://crm-app/./src/components/Forms/FormAuth/FormAuth.module.scss?1ef9","components/Forms/FormAuth/FormAuth.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"gridFirst\":\"BlockAuth_gridFirst__9UHmd\",\"gridSecond\":\"BlockAuth_gridSecond__FczdF\",\"BlockAuth\":\"BlockAuth_BlockAuth__hK5G5\"};","import { Button } from '@mui/material';\nimport Block from 'components/Block/Block';\nimport FormAuth from 'components/Forms/FormAuth/FormAuth';\nimport ModalContent from 'components/ModalCustom/ModalContent/ModalContent';\n\nimport s from './BlockAuth.module.scss';\n\nconst BlockAuth = props => {\n  const blockSettings = { className: s.gridFirst, ...props };\n\n  return (\n    <Block {...blockSettings}>\n      <div className={s.BlockAuth}>\n        <ModalContent trigger={props => <Button {...props}>Створити користувача</Button>}>\n          <FormAuth {...{ blockSettings: { iconId: 'plus', title: 'Створити користувача' }, signUp: true, admin: true }} />\n        </ModalContent>\n      </div>\n    </Block>\n  );\n};\n\nexport default BlockAuth;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PageProvider from './PageProvider';\n\nimport { MinTabletXl, MaxToTablet } from 'components/DeviceTypeInformer/DeviceTypeController';\nimport { BlockAdmin, BlockManagers, BlockVendors, BlockAdminRules, BlockAdminSettings } from 'components/Blocks';\nimport BlockAuth from 'components/Blocks/BlocksAdmin/BlockAuth/BlockAuth';\n\nconst PageAdmin = ({ path }) => {\n  const BlockAuthSet = { signUp: true, admin: true, title: 'Керування користувачами' };\n  const blocksMap = {\n    admin: <BlockAdmin />,\n    managers: <BlockManagers />,\n    vendors: <BlockVendors />,\n    users: <BlockAuth {...BlockAuthSet} />,\n    roles: <BlockAdminRules />,\n    settings: <BlockAdminSettings />,\n  };\n\n  return (\n    <>\n      <PageProvider>\n        <MinTabletXl>\n          {/* <BlockAdmin />\n          <BlockManagers />\n          <BlockVendors />\n          <BlockAdminRules />\n          <BlockAdminSettings /> */}\n          <BlockAuth {...BlockAuthSet} />\n        </MinTabletXl>\n        <MaxToTablet>{path ? blocksMap[path] : blocksMap.admin}</MaxToTablet>\n      </PageProvider>\n    </>\n  );\n};\n\nPageAdmin.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n};\n\nexport default PageAdmin;\n","// extracted by mini-css-extract-plugin\nexport default {\"FormAuth\":\"FormAuth_FormAuth__H1Bzb\",\"link\":\"FormAuth_link__tP-aR\"};","import PrimaryInput from 'components/Forms/Inputs/PrimaryInput/PrimaryInput';\nimport FormPrimary from '../FormPrimary/FormPrimary';\nimport { useDispatch } from 'react-redux';\nimport { userRegister, userLogIn, userRegisterByAdmin } from 'redux/auth/authThunks';\nimport { toast } from 'react-toastify';\nimport { Button } from '@mui/material';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport s from './FormAuth.module.scss';\n\nconst initialState = { email: null, password: null };\nconst messages = key => {\n  const msgs = {\n    SIGNIN_OK: 'Вітаю у системі',\n    REG_OK: 'Користувача успішно зареєстровано',\n    400: 'Не вірні дані',\n    401: 'Не авторизований користувач',\n    409: 'Такий користувач уже існує',\n  };\n  return msgs[key];\n};\nconst FormAuth = props => {\n  const dispatch = useDispatch();\n  const { signUp = false, signIn = false, admin = false } = props;\n  const [formData, setFormData] = useState(initialState);\n\n  function onChange(ev) {\n    const { name, value } = ev.target;\n    setFormData({ ...formData, [name]: value });\n  }\n  function signInUser(ev) {\n    const payload = {\n      submitData: { email: formData.email, password: formData.password },\n\n      onSuccess: data => {\n        toast.success(messages('SIGNIN_OK'));\n      },\n      onError: error => {\n        const { statusCode } = error?.response?.data;\n        toast.error(messages(statusCode));\n      },\n    };\n\n    dispatch(userLogIn(payload));\n  }\n  function signUpUser(ev) {\n    const payload = {\n      submitData: { email: formData.email, password: formData.password },\n      onSuccess: data => {\n        toast.success(messages('REG_OK'));\n      },\n      onError: error => {\n        const { statusCode } = error?.response?.data;\n\n        toast.error(messages(statusCode));\n      },\n    };\n    dispatch(userRegister(payload));\n  }\n  function createUserByAdmin(ev) {\n    const payload = {\n      submitData: { email: formData.email, password: formData.password },\n      onSuccess: data => {\n        toast.success(messages('REG_OK'));\n      },\n      onError: error => {\n        const { statusCode } = error?.response?.data;\n\n        toast.error(messages(statusCode));\n      },\n    };\n    dispatch(userRegisterByAdmin(payload));\n  }\n  function handleFormSubmit(ev) {\n    ev.preventDefault();\n\n    if (signUp && admin) {\n      createUserByAdmin();\n      return;\n    }\n    if (signUp && !admin) {\n      signUpUser();\n      return;\n    }\n    if (signIn) {\n      signInUser();\n      return;\n    }\n    setFormData(initialState);\n  }\n\n  const formSettings = {\n    onSubmit: handleFormSubmit,\n    className: s.FormAuth,\n    ...props,\n  };\n\n  return (\n    <FormPrimary {...formSettings}>\n      <PrimaryInput label=\"Емейл\" name=\"email\" type=\"email\" required onChange={onChange} />\n\n      <PrimaryInput label=\"Пароль\" name=\"password\" type=\"password\" required onChange={onChange} />\n\n      <Button variant=\"contained\" type=\"submit\">\n        {admin && <span>Створити користувача</span>}\n\n        {!admin && <span>{signUp ? 'Реєстрація' : 'Увійти'}</span>}\n      </Button>\n\n      {!admin && (\n        <Button variant=\"text\">\n          <Link to={signUp ? '/auth/signIn' : '/auth/signUp'} className={s.link}>\n            <span>{signUp ? 'Увійти' : 'Зареєструватись'}</span>\n          </Link>\n        </Button>\n      )}\n    </FormPrimary>\n  );\n};\n\nexport default FormAuth;\n"],"names":["props","blockSettings","className","s","Block","ModalContent","trigger","Button","FormAuth","iconId","title","signUp","admin","path","BlockAuthSet","blocksMap","managers","vendors","users","roles","settings","PageProvider","initialState","email","password","messages","key","SIGNIN_OK","REG_OK","dispatch","useDispatch","signIn","useState","formData","setFormData","onChange","ev","target","name","value","formSettings","onSubmit","preventDefault","payload","submitData","onSuccess","data","toast","onError","error","statusCode","response","userRegisterByAdmin","createUserByAdmin","userLogIn","signInUser","userRegister","signUpUser","FormPrimary","PrimaryInput","label","type","required","variant","to"],"sourceRoot":""}