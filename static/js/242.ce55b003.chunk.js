"use strict";(self.webpackChunkcrm_app=self.webpackChunkcrm_app||[]).push([[242],{8242:function(e,t,n){n.d(t,{Z:function(){return Y}});var i=n(1413),r=n(885),a=n(2791),o=n(3579),c=n(9107);var s=n(5985),l={filterContainer:"BlockSearch_filterContainer__Nu+uf",filterForm:"BlockSearch_filterForm__iPIpw",customFounder:"BlockSearch_customFounder__WBHkw",inputFounder:"BlockSearch_inputFounder__o55Bv",customSelect:"BlockSearch_customSelect__rAeb1",isOpen:"BlockSearch_isOpen__9lhaC",selectList:"BlockSearch_selectList__j6QIs",inputParam:"BlockSearch_inputParam__anOuU",selectItem:"BlockSearch_selectItem__5pGfS",button:"BlockSearch_button__VOCQW",notification:"BlockSearch_notification__tXPeC"},u=n(184),d=function(e){var t=(0,o.rL)().tableTitles,n=void 0===t?[]:t,d=(0,a.useState)(""),f=(0,r.Z)(d,2),m=f[0],h=f[1],v=(0,a.useState)({name:""}),_=(0,r.Z)(v,2),p=_[0],k=_[1],x=(0,a.useState)(!1),j=(0,r.Z)(x,2),Z=j[0],B=j[1],g=(0,a.useState)([]),I=(0,r.Z)(g,2),S=I[0],w=I[1],C=[l.customSelect,Z&&l.isOpen].join(" ");function y(){B(!Z)}return(0,a.useEffect)((function(){0!==n.length&&w(function(e){var t=e.searchParam,n=void 0===t?"":t,i=e.searchQuery,r=void 0===i?null:i,a=e.data;return(void 0===a?[]:a).filter((function(e){return"number"===typeof e[n]?!(r&&!e[n].toString().toLowerCase().includes(r.toLowerCase())):"string"!==typeof e[n]||!(r&&!e[n].toLowerCase().includes(r.toLowerCase()))}))}({searchParam:"name",searchQuery:p.name,data:n.filter((function(e){return(null===e||void 0===e?void 0:e.search)&&(null===e||void 0===e?void 0:e.visible)}))}))}),[p,n]),(0,a.useEffect)((function(){""===!m&&console.log(m)}),[m]),(0,a.useEffect)((function(){""===!p.name&&console.log(p.name)}),[p]),(0,u.jsx)("div",{className:l.filterContainer,children:(0,u.jsxs)("form",{className:l.filterForm,onSubmit:function(e){!function(e){e.preventDefault(),m&&p.name?s.Am.info("\u0412\u0438 \u0448\u0443\u043a\u0430\u043b\u0438: '".concat(m,"' \u0441\u0435\u0440\u0435\u0434 '").concat(p.name,"'")):s.Am.error("\u041d\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u0443\u0441\u0456\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0456\u0432 \u043f\u043e\u0448\u0443\u043a\u0443")}(e)},children:[(0,u.jsxs)("div",{className:C,onClick:y,children:[(0,u.jsx)("input",{className:l.inputParam,type:"text",placeholder:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440",value:p.name,onChange:function(e){var t=e.target;k((0,i.Z)((0,i.Z)({},p),{},{name:t.value}))}}),(0,u.jsx)("ul",{className:l.selectList,children:S.map((function(e){return(0,u.jsx)("li",{className:l.selectItem,"data-title":e.dataTitle,onClick:function(t){!function(e){e.evt;var t=e.item;k(t),y()}({evt:t,item:e})},children:e.name},e.id)}))})]}),(0,u.jsx)("div",{className:l.customFounder,children:(0,u.jsx)("input",{className:l.inputFounder,type:"text",name:"searchQuery",value:m,placeholder:"\u041f\u043e\u0448\u0443\u043a",onChange:function(e){!function(e){var t=e.target;h(t.value)}(e)}})}),(0,u.jsx)("button",{className:l.button,type:"submit",children:(0,u.jsx)(c.Z,{iconId:"search",size:"24px"})})]})})},f=n(8586),m=n(1747),h=function(e){var t=e.action,n=(0,o.rL)().blockTitle;return(0,u.jsx)(m.Z,(0,i.Z)((0,i.Z)({},t),{},{onClick:function(){navigator.clipboard.writeText(n),s.Am.info('\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u043a\u043e\u043f\u0456\u044e "'.concat(n,'"'))}}))},v=n(5861),_=n(4687),p=n.n(_),k=n(2960),x=n(9434),j=n(6351),Z=function(e){var t=e.action,n=(0,x.v9)(j.Jq).selectedPostId,r=(0,k.d$)().appNotify;function a(){return(a=(0,v.Z)(p().mark((function e(){var t,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return s.Am.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: \u043f\u043e\u0441\u0442 \u043d\u0435 \u043e\u0431\u0440\u0430\u043d\u043e"),e.abrupt("return");case 3:t="".concat(window.location,"/").concat(n),i={title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",text:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",url:t};try{navigator.share(i),r.success(i.title,"".concat(i.text,", ").concat(i.url))}catch(a){console.log(a),s.Am.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ".concat(a)),r.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u043d\u043d\u0456","".concat(a))}case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.jsx)(m.Z,(0,i.Z)((0,i.Z)({},t),{},{onClick:function(){return a.apply(this,arguments)}}))},B=function(e){var t=e.action;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(m.Z,(0,i.Z)((0,i.Z)({},t),{},{onClick:function(e){}}))})},g=function(e){var t=e.action,n=(0,o.rL)().title,r=(0,k.d$)().appNotify;return(0,u.jsx)(m.Z,(0,i.Z)((0,i.Z)({},t),{},{onClick:function(){r.info("\u0412\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","\u0412\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0434\u0430\u043d\u0456 \u0456\u0437 \u0431\u043b\u043e\u043a\u0443 ".concat(n,"."))}}))},I=function(e){var t=e.action;return(0,u.jsx)(m.Z,(0,i.Z)({},t))},S=function(e){var t=e.action;return(0,u.jsx)(m.Z,(0,i.Z)({},t))},w=function(e){var t=e.action,n=(0,x.v9)(j.Jq).selectedPostId;function r(){return(r=(0,v.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return s.Am.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: \u043f\u043e\u0441\u0442 \u043d\u0435 \u043e\u0431\u0440\u0430\u043d\u043e"),e.abrupt("return");case 3:t="".concat(window.location),navigator.clipboard.writeText(t),s.Am.info("\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u0441\u043a\u043e\u043f\u0456\u0439\u043e\u0432\u0430\u043d\u0435 \u0434\u043e \u0431\u0443\u0444\u0435\u0440\u0443 \u043e\u0431\u043c\u0456\u043d\u0443");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.jsx)(m.Z,(0,i.Z)((0,i.Z)({},t),{},{onClick:function(){return r.apply(this,arguments)}}))},C=function(e){var t=e.action,n=(0,o.rL)().handleToggleBlockSearch;return(0,u.jsx)(m.Z,(0,i.Z)((0,i.Z)({},t),{},{onClick:n}))},y=function(e){var t=e.action;return(0,u.jsx)(m.Z,(0,i.Z)({},t))},N=function(e){var t=e.action;return(0,u.jsx)(m.Z,(0,i.Z)({},t))},b=function(e){var t=e.action;return(0,u.jsx)(m.Z,(0,i.Z)({},t))},L=function(e){var t=e.action;return(0,u.jsx)(m.Z,(0,i.Z)({},t))},F=function(e){var t=e.arr,n=void 0===t?[]:t,r={link:w,search:C,filter:S,copy:h,share:Z,print:B,export:g,import:I,edit:y,delete:b,create:N,refresh:L},a=(0,u.jsx)(u.Fragment,{});return(0,u.jsx)(u.Fragment,{children:n.map((function(e){return e.name?(a=r[e.name],(0,u.jsx)(a,(0,i.Z)({action:e},e),e.name)):(0,u.jsx)(m.Z,(0,i.Z)({},e),e.name)}))})},T=n(4164),P=function(e){var t=(0,a.useState)(!1),n=(0,r.Z)(t,2),i=n[0],o=n[1],c=document.getElementById("".concat(e.id,"-modal"));if((0,a.useEffect)((function(){e.id?o(!0):o(!1)}),[e.id]),i)return T.createPortal(e.children,c)};P.propTypes={};var E=P,A="BlockActions_btn__eIOIX",O=function(){var e=(0,o.rL)(),t=e.isModalOpen,n=e.handleToggleModal,i=e.iconId,r=e.actions,c=e.actionsPrimary,s=e.actionsWithFilter,l=e.ActionsComp,d=(0,a.useMemo)((function(){switch(r){case"primary":return c;case"withFilter":return s;default:return[]}}),[r,c,s]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f.Z,{iconId:t?"close":"actions-h",size:"100%",iconSize:"24px",className:A,onClick:n}),(0,u.jsx)(E,{id:i,children:t&&(0,u.jsxs)(u.Fragment,{children:[d.length>0&&(0,u.jsx)(F,{arr:d}),l&&(0,u.jsx)(l,{})]})})]})},M="BlockHeaderSearch_header__fq2h1",z="BlockHeaderSearch_headerWithSearch__Vnm1m",D="BlockHeaderSearch_Light__qD5Ew",H="BlockHeaderSearch_Dark__OoJa3",Q="BlockHeaderSearch_title__yFzIH",W=function(){var e=(0,o.rL)(),t=e.title,n=void 0===t?"Title":t,i=e.iconId,r=void 0===i?"info":i,a=e.isSearch,s=e.isDarkTheme,l=e.actions,f=e.headerStyles,m=e.headerClassName;return(0,u.jsxs)("div",{className:[a?z:M,s?H:D,m].join(" "),style:f,children:[(0,u.jsx)(c.Z,{iconId:r,size:"24px"}),a&&(0,u.jsx)(d,{}),n&&(0,u.jsx)("span",{className:Q,children:(0,u.jsx)("span",{title:n,children:n})}),l&&(0,u.jsx)(O,{})]})},V={Backdrop:"BlockModal_Backdrop__9xNj8",BackdropOpen:"BlockModal_BackdropOpen__GX7Gb",Container:"BlockModal_Container__CkP5W",btn:"BlockModal_btn__A4WCP",actionsList:"BlockModal_actionsList__-VfsE"},X=function(e){var t=e.title,n=(0,o.rL)(),i=n.iconId,r=n.isModalOpen,c=n.handleToggleModal;return(0,a.useEffect)((function(){function e(t){if(console.log("first"),"Escape"===t.code)return c(),void window.removeEventListener("keydown",e)}if(r){if(!r)return function(){window.removeEventListener("keydown",e)};window.addEventListener("keydown",e)}else window.removeEventListener("keydown",e)}),[c,r]),(0,u.jsx)("div",{className:r?V.BackdropOpen:V.Backdrop,onClick:function(e){e.target===e.currentTarget&&c()},children:(0,u.jsxs)("div",{className:V.Container,children:[(0,u.jsx)("span",{className:V.Title,children:t}),(0,u.jsx)("div",{className:V.actionsList,id:"".concat(i,"-modal")})]})})},q="Block_block__l4rYQ",J="Block_blockDark__wuUze",G="Block_footer__0j8tQ",U="Block_overflow__I1+3b",$="Block_content__VVaX5",R="Block_inWork__m6rkC",Y=function(e){var t=e.children,n=e.footerChildren,c=e.title,s=void 0===c?"Title":c,l=e.iconId,d=void 0===l?"info":l,f=e.footer,m=void 0===f||f,h=e.header,v=void 0===h||h,_=e.style,p=void 0===_?{}:_,k=e.headerStyles,Z=void 0===k?{}:k,B=e.className,g=void 0===B?"":B,I=(0,a.useState)(!1),S=(0,r.Z)(I,2),w=S[0],C=S[1],y=(0,a.useState)(),N=(0,r.Z)(y,2),b=N[0],L=N[1],F=(0,x.v9)(j.hO).isDarkTheme,T=(0,a.useState)(!1),P=(0,r.Z)(T,2),E=P[0],A=P[1],O=[F?J:q,g].join(" ");var M={isSearch:w,isFormDisabled:E,isDarkTheme:F,isModalOpen:b},z={handleToggleBlockSearch:function(){C(!w)},handleToggleEditForm:function(){A(!E)},handleToggleModal:function(){L(!b)}};return console.log("block '".concat(s,"'inicialize")),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(o.ZP,(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},e),z),M),{},{children:(0,u.jsxs)("div",{className:O,style:p,children:[v&&(0,u.jsx)(W,{style:Z}),(0,u.jsxs)("div",{className:$,id:d,children:[(0,u.jsxs)("div",{className:U,children:[t,!t&&(0,u.jsx)("div",{className:R,children:(0,u.jsx)("span",{children:"In work ..."})})]}),(0,u.jsx)(X,{title:'\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0434\u0456\u0457 \u0431\u043b\u043e\u043a\u0443 "'.concat(s,'"')})]}),m&&(0,u.jsx)("div",{className:G,children:n})]})}))})}},1747:function(e,t,n){n.d(t,{Z:function(){return s}});n(2791);var i=n(8586),r="Action_actionBtn__1HEir",a="Action_listItem__BvVX7",o="Action_actionTitle__nQJRs",c=n(184),s=function(e){e.name;var t=e.status,n=void 0===t||t,s=e.iconId,l=void 0===s?"close":s,u=e.title,d=void 0===u?"title":u,f=e.onClick;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:a,children:[(0,c.jsx)(i.Z,{iconId:l,size:"100%",iconSize:"28px",className:r,onClick:f,disabled:!n}),(0,c.jsx)("span",{className:o,children:d})]})})}},3579:function(e,t,n){n.d(t,{ZP:function(){return l},rL:function(){return s}});var i=n(1413),r=n(2791),a={actionsPrimary:[{name:"link",title:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",iconId:"link",status:!0},{name:"share",title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",iconId:"share",status:!0},{name:"export",title:"\u0415\u043a\u0441\u043f\u043e\u0440\u0442",iconId:"upload",status:!1},{name:"import",title:"\u0406\u043c\u043f\u043e\u0440\u0442",iconId:"download",status:!1}],actionsWithFilter:[{name:"search",title:"\u041f\u043e\u0448\u0443\u043a",iconId:"search",status:!0},{name:"filter",title:"\u0424\u0456\u043b\u044c\u0442\u0440",iconId:"filter-off",status:!1},{name:"link",title:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",iconId:"link",status:!0},{name:"copy",title:"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438",iconId:"copy",status:!1},{name:"share",title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",iconId:"share",status:!0},{name:"refresh",title:"\u041e\u043d\u043e\u0432\u0438\u0442\u0438",iconId:"refresh",status:!1},{name:"edit",title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",iconId:"edit",status:!1},{name:"delete",title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",iconId:"delete",status:!1},{name:"create",title:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438",iconId:"plus",status:!1},{name:"print",title:"\u0414\u0440\u0443\u043a",iconId:"print",status:!1},{name:"export",title:"\u0415\u043a\u0441\u043f\u043e\u0440\u0442",iconId:"upload",status:!1},{name:"import",title:"\u0406\u043c\u043f\u043e\u0440\u0442",iconId:"download",status:!1}]},o=n(184),c=(0,r.createContext)(),s=function(){return(0,r.useContext)(c)},l=function(e){return(0,o.jsx)(c.Provider,{value:(0,i.Z)((0,i.Z)({},e),a),children:e.children})}}}]);
//# sourceMappingURL=242.ce55b003.chunk.js.map