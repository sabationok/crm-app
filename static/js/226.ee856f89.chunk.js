"use strict";(self.webpackChunkcrm_app=self.webpackChunkcrm_app||[]).push([[226],{6226:function(t,e,n){n.d(e,{Z:function(){return g}});var i=n(1413),o=n(885),c=n(2791),a=n(3579),r=n(9107);var s=n(5206),l={filterContainer:"BlockSearch_filterContainer__Nu+uf",filterForm:"BlockSearch_filterForm__iPIpw",customFounder:"BlockSearch_customFounder__WBHkw",inputFounder:"BlockSearch_inputFounder__o55Bv",customSelect:"BlockSearch_customSelect__rAeb1",isOpen:"BlockSearch_isOpen__9lhaC",selectList:"BlockSearch_selectList__j6QIs",inputParam:"BlockSearch_inputParam__anOuU",selectItem:"BlockSearch_selectItem__5pGfS",button:"BlockSearch_button__VOCQW",notification:"BlockSearch_notification__tXPeC"},d=n(184),u=function(t){var e=(0,a.rL)().tableTitles,n=void 0===e?[]:e,u=(0,c.useState)(""),m=(0,o.Z)(u,2),_=m[0],f=m[1],h=(0,c.useState)({name:""}),v=(0,o.Z)(h,2),p=v[0],x=v[1],k=(0,c.useState)(!1),j=(0,o.Z)(k,2),B=j[0],I=j[1],Z=(0,c.useState)([]),y=(0,o.Z)(Z,2),g=y[0],S=y[1],C=[l.customSelect,B&&l.isOpen].join(" ");function w(){I(!B)}return(0,c.useEffect)((function(){0!==n.length&&S(function(t){var e=t.searchParam,n=void 0===e?"":e,i=t.searchQuery,o=void 0===i?null:i,c=t.data;return(void 0===c?[]:c).filter((function(t){return"number"===typeof t[n]?!(o&&!t[n].toString().toLowerCase().includes(o.toLowerCase())):"string"!==typeof t[n]||!(o&&!t[n].toLowerCase().includes(o.toLowerCase()))}))}({searchParam:"name",searchQuery:p.name,data:n.filter((function(t){return(null===t||void 0===t?void 0:t.filter)&&(null===t||void 0===t?void 0:t.visible)}))}))}),[p,n]),(0,c.useEffect)((function(){""===!_&&console.log(_)}),[_]),(0,c.useEffect)((function(){""===!p.name&&console.log(p.name)}),[p]),(0,d.jsx)("div",{className:l.filterContainer,children:(0,d.jsxs)("form",{className:l.filterForm,onSubmit:function(t){!function(t){t.preventDefault(),_&&p.name?s.Am.info("\u0412\u0438 \u0448\u0443\u043a\u0430\u043b\u0438: '".concat(_,"' \u0441\u0435\u0440\u0435\u0434 '").concat(p.name,"'")):s.Am.error("\u041d\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u0443\u0441\u0456\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0456\u0432 \u043f\u043e\u0448\u0443\u043a\u0443")}(t)},children:[(0,d.jsxs)("div",{className:C,onClick:w,children:[(0,d.jsx)("input",{className:l.inputParam,type:"text",placeholder:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440",value:p.name,onChange:function(t){var e=t.target;x((0,i.Z)((0,i.Z)({},p),{},{name:e.value}))}}),(0,d.jsx)("ul",{className:l.selectList,children:g.map((function(t){return(0,d.jsx)("li",{className:l.selectItem,"data-title":t.dataTitle,onClick:function(e){!function(t){t.evt;var e=t.item;x(e),w()}({evt:e,item:t})},children:t.name},t.id)}))})]}),(0,d.jsx)("div",{className:l.customFounder,children:(0,d.jsx)("input",{className:l.inputFounder,type:"text",name:"searchQuery",value:_,placeholder:"\u041f\u043e\u0448\u0443\u043a",onChange:function(t){!function(t){var e=t.target;f(e.value)}(t)}})}),(0,d.jsx)("button",{className:l.button,type:"submit",children:(0,d.jsx)(r.Z,{iconId:"search",size:"24px"})})]})})},m=n(5614),_="BlockHeaderSearch_header__fq2h1",f="BlockHeaderSearch_headerWithSearch__Vnm1m",h="BlockHeaderSearch_title__yFzIH",v=function(){var t=(0,a.rL)(),e=t.title,n=void 0===e?"Title":e,i=t.iconId,o=void 0===i?"info":i,c=t.isSearch,s=c?f:_;return(0,d.jsxs)("div",{className:s,children:[(0,d.jsx)(r.Z,{iconId:o,size:"24px"}),c&&(0,d.jsx)(u,{}),n&&(0,d.jsx)("span",{className:h,children:(0,d.jsx)("span",{title:n,children:n})}),(0,d.jsx)(m.default,{})]})},p="BlockHeaderLink_header__3Xw1I",x="BlockHeaderLink_headerLink__ASjs9",k="BlockHeaderLink_subTitle__yD46E",j="BlockHeaderLink_titleInner__hx2Ou",B="BlockHeaderLink_title__Nndxb",I=(0,c.lazy)((function(){return Promise.resolve().then(n.bind(n,5614))})),Z=function(){var t=(0,a.rL)(),e=t.title,n=void 0===e?"Title":e,i=t.subTitle,o=void 0===i?"link":i,c=t.iconId,s=void 0===c?"info":c;return(0,d.jsxs)("div",{className:p,children:[(0,d.jsx)(r.Z,{iconId:s,size:"24px"}),(0,d.jsx)("span",{className:B,children:(0,d.jsx)("span",{className:j,title:n,children:n})}),(0,d.jsx)("span",{className:x,children:(0,d.jsx)("span",{className:k,title:o,children:o})}),(0,d.jsx)(I,{})]})},y={block:"Block_block__l4rYQ",title:"Block_title__Fgg31",overflow:"Block_overflow__I1+3b",content:"Block_content__VVaX5",footer:"Block_footer__0j8tQ",inWork:"Block_inWork__m6rkC"},g=function(t){var e=t.children,n=t.title,r=void 0===n?"Title":n,s=t.iconId,l=void 0===s?"info":s,u=t.footer,m=void 0===u||u,_=t.header,f=void 0===_||_,h=t.style,p=void 0===h?{}:h,x=t.className,k=void 0===x?"":x,j=t.filter,B=void 0!==j&&j,I=[y.block,k].join(" "),g=(0,c.useState)(!1),S=(0,o.Z)(g,2),C=S[0],w=S[1],N=(0,c.useState)(!0),b=(0,o.Z)(N,2),L=b[0],F=b[1];var A={isSearch:C,isFormDisabled:L},P={handleToggleBlockSearch:function(){w(!C)},handleToggleEditForm:function(){F(!L)}};return console.log("block '".concat(r,"'inicialize")),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(a.ZP,(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},t),P),A),{},{children:(0,d.jsxs)("div",{className:I,style:p,children:[f&&(0,d.jsxs)(d.Fragment,{children:[B&&(0,d.jsx)(v,{}),!B&&(0,d.jsx)(Z,{})]}),(0,d.jsx)("div",{className:y.content,id:l,children:(0,d.jsxs)("div",{className:y.overflow,children:[e,!e&&(0,d.jsx)("div",{className:y.inWork,children:(0,d.jsx)("span",{children:"In work ..."})})]})}),m&&(0,d.jsx)("div",{className:y.footer})]})}))})}},5614:function(t,e,n){n.r(e),n.d(e,{default:function(){return z}});var i=n(885),o=n(2791),c=n(8586),a=n(4164),r=function(t){var e=(0,o.useState)(!1),n=(0,i.Z)(e,2),c=n[0],r=n[1],s=document.getElementById(t.id);if((0,o.useEffect)((function(){t.id?r(!0):r(!1)}),[t.id]),c)return a.createPortal(t.children,s)};r.propTypes={};var s=r,l=n(1413),d="Action_actionActive__8Wn-y",u="Action_actionNotActive__0nksk",m="Action_listItem__JziyT",_="Action_actionTitle__YTAVc",f=n(184),h=function(t){t.name;var e=t.status,n=void 0!==e&&e,i=t.iconId,o=void 0===i?"close":i,a=t.title,r=void 0===a?"title":a,s=t.onClick,l=n?d:u;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("li",{className:m,children:[(0,f.jsx)(c.Z,{iconId:o,size:"100%",className:l,onClick:s}),(0,f.jsx)("span",{className:_,children:r})]})})},v=n(5206),p=n(3579),x=function(t){var e=t.action,n=(0,p.rL)().blockTitle;return(0,f.jsx)(h,(0,l.Z)((0,l.Z)({},e),{},{onClick:function(){navigator.clipboard.writeText(n),v.Am.info('\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u043a\u043e\u043f\u0456\u044e "'.concat(n,'"'))}}))},k=n(5861),j=n(4687),B=n.n(j),I=function(t){var e=t.action,n=(0,p.rL)().title,i="".concat(window.location,"/").concat(n);function o(){return(o=(0,k.Z)(B().mark((function t(){var e;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c \u043d\u0430\u0437\u0432\u043e\u044e \u0431\u043b\u043e\u043a\u0443 ".concat(n),text:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c \u043d\u0430\u0437\u0432\u043e\u044e \u0431\u043b\u043e\u043a\u0443 ".concat(n),url:i};try{navigator.share(e),v.Am.success("\u041d\u0430\u0437\u0432\u0430 \u0431\u043b\u043e\u043a\u0443 \u0434\u043b\u044f \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u043d\u043d\u044f ".concat(n))}catch(o){v.Am.error("Error: ".concat(o))}case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,f.jsx)(h,(0,l.Z)((0,l.Z)({},e),{},{onClick:function(){return o.apply(this,arguments)}}))},Z=function(t){var e=t.action;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(h,(0,l.Z)({},e))})},y=function(t){var e=t.action;return(0,f.jsx)(h,(0,l.Z)({},e))},g=function(t){var e=t.action;return(0,f.jsx)(h,(0,l.Z)({},e))},S=function(t){var e=t.action;return(0,f.jsx)(h,(0,l.Z)({},e))},C=function(t){var e=t.action,n=(0,p.rL)().title,i="".concat(window.location,"/").concat(n);return(0,f.jsx)(h,(0,l.Z)((0,l.Z)({},e),{},{onClick:function(){navigator.clipboard.writeText(i),console.log(i),v.Am.info('\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0442\u043e\u0432\u0430\u0440 \u0441\u043a\u043e\u043f\u0456\u0439\u043e\u0432\u0430\u043d\u0435 "'.concat(n,'"'))}}))},w=function(t){var e=t.action,n=(0,p.rL)().handleToggleBlockSearch;return(0,f.jsx)(h,(0,l.Z)((0,l.Z)({},e),{},{onClick:n}))},N=function(t){var e=t.action,n=(0,p.rL)().handleToggleEditForm;return(0,f.jsx)(h,(0,l.Z)((0,l.Z)({},e),{},{onClick:n}))},b=function(t){var e=t.action;return(0,f.jsx)(h,(0,l.Z)({},e))},L=function(t){var e=t.action;return(0,f.jsx)(h,(0,l.Z)({},e))},F=function(t){var e=t.action;return(0,f.jsx)(h,(0,l.Z)({},e))},A="ActionsList_actionsList__6ChT6",P=function(t){var e=t.arr,n=void 0===e?[]:e,i={link:C,search:w,filter:S,copy:x,share:I,print:Z,export:y,import:g,edit:N,delete:L,create:b,refresh:F},o=(0,f.jsx)(f.Fragment,{});return(0,f.jsx)("ul",{className:A,children:n.map((function(t){return t.name?(o=i[t.name],(0,f.jsx)(o,(0,l.Z)({action:t},t),t.name)):(0,f.jsx)(h,(0,l.Z)({},t),t.name)}))})},T={actionsBackdrop:"BlockActions_actionsBackdrop__QWF-u",actionsBackdropOpen:"BlockActions_actionsBackdropOpen__PvLbA",actionsContainer:"BlockActions_actionsContainer__Pbrz5"},z=function(){var t=(0,o.useState)(!1),e=(0,i.Z)(t,2),n=e[0],a=e[1],r=(0,p.rL)(),l=(0,o.useMemo)((function(){switch(r.actions){case"primary":return r.actionsPrimary;case"withFilter":return r.actionsWithFilter;default:return[]}}),[r.actions,r.actionsPrimary,r.actionsWithFilter]);function d(t){a(!n)}return(0,o.useEffect)((function(){function t(e){if("Escape"===e.code)return a(!1),void window.removeEventListener("keydown",t)}n?n&&window.addEventListener("keydown",t):window.removeEventListener("keydown",t)}),[n]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.Z,{iconId:n?"close":"actions-h",size:"100%",onClick:d}),(0,f.jsx)(s,{id:r.iconId,children:(0,f.jsx)("div",{className:n?T.actionsBackdropOpen:T.actionsBackdrop,onClick:d,children:(0,f.jsx)("div",{className:T.actionsContainer,children:n&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:T.actionsTitle,children:'\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0434\u0456\u0457 \u0431\u043b\u043e\u043a\u0443 "'.concat(r.title,'"')}),l.length>0&&(0,f.jsx)(P,{arr:l})]})})})})]})}},3579:function(t,e,n){n.d(e,{ZP:function(){return l},rL:function(){return s}});var i=n(1413),o=n(2791),c={actionsPrimary:[{name:"link",title:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",iconId:"link",status:!0},{name:"copy",title:"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438",iconId:"copy",status:!1},{name:"share",title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",iconId:"share",status:!0},{name:"refresh",title:"\u041e\u043d\u043e\u0432\u0438\u0442\u0438",iconId:"refresh",status:!1},{name:"edit",title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",iconId:"edit",status:!0},{name:"delete",title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",iconId:"delete",status:!1},{name:"create",title:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438",iconId:"plus",status:!1},{name:"print",title:"\u0414\u0440\u0443\u043a",iconId:"print",status:!1},{name:"export",title:"\u0415\u043a\u0441\u043f\u043e\u0440\u0442",iconId:"upload",status:!1},{name:"import",title:"\u0406\u043c\u043f\u043e\u0440\u0442",iconId:"download",status:!1}],actionsWithFilter:[{name:"search",title:"\u041f\u043e\u0448\u0443\u043a",iconId:"search",status:!0},{name:"filter",title:"\u0424\u0456\u043b\u044c\u0442\u0440",iconId:"filter-off",status:!1},{name:"link",title:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",iconId:"link",status:!0},{name:"copy",title:"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438",iconId:"copy",status:!1},{name:"share",title:"\u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044c",iconId:"share",status:!0},{name:"refresh",title:"\u041e\u043d\u043e\u0432\u0438\u0442\u0438",iconId:"refresh",status:!1},{name:"edit",title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",iconId:"edit",status:!1},{name:"delete",title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",iconId:"delete",status:!1},{name:"create",title:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438",iconId:"plus",status:!1},{name:"print",title:"\u0414\u0440\u0443\u043a",iconId:"print",status:!1},{name:"export",title:"\u0415\u043a\u0441\u043f\u043e\u0440\u0442",iconId:"upload",status:!1},{name:"import",title:"\u0406\u043c\u043f\u043e\u0440\u0442",iconId:"download",status:!1}]},a=n(184),r=(0,o.createContext)(),s=function(){return(0,o.useContext)(r)},l=function(t){return(0,a.jsx)(r.Provider,{value:(0,i.Z)((0,i.Z)({},t),c),children:t.children})}},8586:function(t,e,n){n.d(e,{Z:function(){return r}});var i=n(1413),o=(n(2791),n(2776)),c={Button:"ButtonIcon_Button__7zIUY",iconSvg:"ButtonIcon_iconSvg__Ha7ix",ColoredBtn:"ButtonIcon_ColoredBtn__Raw3O",PrimaryBtn:"ButtonIcon_PrimaryBtn__7XJ7x",BorderBtn:"ButtonIcon_BorderBtn__BFvDB",AcceptBtn:"ButtonIcon_AcceptBtn__XzjCg",DeclineBtn:"ButtonIcon_DeclineBtn__7LhDv",ResetBtn:"ButtonIcon_ResetBtn__YPLld"},a=n(184),r=function(t){var e=t.children,n=t.type,r=void 0===n?"button":n,s=t.disabled,l=void 0!==s&&s,d=t.iconId,u=void 0===d?"":d,m=t.styles,_=void 0===m?{}:m,f=t.iconStyles,h=void 0===f?{}:f,v=t.size,p=void 0===v?"":v,x=t.className,k=void 0===x?"":x,j=t.iconSize,B=void 0===j?"":j,I=t.iconClassName,Z=void 0===I?"":I,y=t.title,g=void 0===y?"":y,S=t.styleType,C=void 0===S?"PrimaryBtn":S,w=t.onClick,N=void 0===w?null:w,b=[c.Button,c[C],k].join(" "),L=[c.iconSvg,Z].join(" "),F=(0,i.Z)({width:p,height:p},_),A=(0,i.Z)({width:B,height:B},h);return(0,a.jsxs)("button",{type:r,className:b,disabled:l,style:F,title:g&&g,onClick:N,children:[(0,a.jsx)("svg",{className:L,style:A,children:(0,a.jsx)("use",{href:"".concat(o.Z,"#icon-").concat(u)})}),e]})}}}]);
//# sourceMappingURL=226.ee856f89.chunk.js.map